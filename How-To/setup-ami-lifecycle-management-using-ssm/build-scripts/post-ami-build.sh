#!/bin/bash

# Install httpd server
yum -y install httpd

# Enable the httpd server to start at boot
systemctl enable httpd


# Create our index file
cat > /var/www/html/index.html <<- "EOF"
<html>
<br /><br />
<pre>                         
                                                             
                                          __  __   ___   .--.
                                         |  |/  `.'   `. |__|
                                         |   .-.  .-.   '.--.
                                    __   |  |  |  |  |  ||  |
                                 .:--.'. |  |  |  |  |  ||  |
                                / |   \ ||  |  |  |  |  ||  |
                                `" __ | ||  |  |  |  |  ||  |
                                 .'.''| ||__|  |__|  |__||__|
                                / /   | |_                   
                                \ \._,\ '/                   
                                 `--'  `"                    

                               .-'''-.                                              .-'''-.               
                               '   _    \                                           '   _    \             
                             /   /` '.   \  __  __   ___                     .--. /   /` '.   \    _..._   
                            .   |     \  ' |  |/  `.'   `.                   |__|.   |     \  '  .'     '. 
                         .| |   '      |  '|   .-.  .-.   '              .|  .--.|   '      |  '.   .-.   .
    __                 .' |_\    \     / / |  |  |  |  |  |    __      .' |_ |  |\    \     / / |  '   '  |
 .:--.'.     _    _  .'     |`.   ` ..' /  |  |  |  |  |  | .:--.'.  .'     ||  | `.   ` ..' /  |  |   |  |
/ |   \ |   | '  / |'--.  .-'   '-...-'`   |  |  |  |  |  |/ |   \ |'--.  .-'|  |    '-...-'`   |  |   |  |
`" __ | |  .' | .' |   |  |                |  |  |  |  |  |`" __ | |   |  |  |  |               |  |   |  |
 .'.''| |  /  | /  |   |  |                |__|  |__|  |__| .'.''| |   |  |  |__|               |  |   |  |
/ /   | |_|   `'.  |   |  '.'                              / /   | |_  |  '.'                   |  |   |  |
\ \._,\ '/'   .'|  '/  |   /                               \ \._,\ '/  |   /                    |  |   |  |
 `--'  `"  `-'  `--'   `'-'                                 `--'  `"   `'-'                     '--'   '--'
</pre>
<br />
</html>
EOF


# Re-Start the service
systemctl restart httpd


## Edit the MOTD to display something nice
>>/etc/update-motd.d/30-banner
cat > /etc/update-motd.d/30-banner <<- "EOF"
                            
                                                             
                                          __  __   ___   .--.
                                         |  |/  `.'   `. |__|
                                         |   .-.  .-.   '.--.
                                    __   |  |  |  |  |  ||  |
                                 .:--.'. |  |  |  |  |  ||  |
                                / |   \ ||  |  |  |  |  ||  |
                                `" __ | ||  |  |  |  |  ||  |
                                 .'.''| ||__|  |__|  |__||__|
                                / /   | |_                   
                                \ \._,\ '/                   
                                 `--'  `"                    

                               .-'''-.                                              .-'''-.               
                               '   _    \                                           '   _    \             
                             /   /` '.   \  __  __   ___                     .--. /   /` '.   \    _..._   
                            .   |     \  ' |  |/  `.'   `.                   |__|.   |     \  '  .'     '. 
                         .| |   '      |  '|   .-.  .-.   '              .|  .--.|   '      |  '.   .-.   .
    __                 .' |_\    \     / / |  |  |  |  |  |    __      .' |_ |  |\    \     / / |  '   '  |
 .:--.'.     _    _  .'     |`.   ` ..' /  |  |  |  |  |  | .:--.'.  .'     ||  | `.   ` ..' /  |  |   |  |
/ |   \ |   | '  / |'--.  .-'   '-...-'`   |  |  |  |  |  |/ |   \ |'--.  .-'|  |    '-...-'`   |  |   |  |
`" __ | |  .' | .' |   |  |                |  |  |  |  |  |`" __ | |   |  |  |  |               |  |   |  |
 .'.''| |  /  | /  |   |  |                |__|  |__|  |__| .'.''| |   |  |  |__|               |  |   |  |
/ /   | |_|   `'.  |   |  '.'                              / /   | |_  |  '.'                   |  |   |  |
\ \._,\ '/'   .'|  '/  |   /                               \ \._,\ '/  |   /                    |  |   |  |
 `--'  `"  `-'  `--'   `'-'                                 `--'  `"   `'-'                     '--'   '--'

EOF

# lets copy over the banner to the other location as well
cp -rf 30-banner /var/lib/update-motd/motd
